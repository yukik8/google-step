# 宿題 3

### 次の操作をほぼ O(1) で実現するデータ構造を考える
与えられた <URL, Web ページ> があるかないかを検索
もしない場合、キャッシュ内で一番古い <URL, Web ページ> を捨てて、代わりに与えられた <URL, Web ページ> を追加する
ヒント：
ハッシュテーブルだけだと順序を管理できないので、別のデータ構造を組み合わせて、X 個の <URL, Web ページ> をアクセスされた順に取り出せるようにする😀


### アルゴリズム
- ハッシュマップと双方向連結リストを組み合わせる。ハッシュマップで指定ページへのアクセスをO(1)で行う。このハッシュマップでは、URLをKeyとし、それに対応するノードをValueとする。最も古いキャッシュから最も新しいキャッシュを繋ぐ双方向連結リストを作ることで、どのキャッシュを捨てるべきかという情報を得たり、要素を追加したりといった動作がほぼO(1)で得られる状態を作る。

### 検討した他の方法
- このキャッシュの構造を初めて聞いたときには、listのappend, popを使ったキューの構造が思い浮かんだ。しかし、popの際にはO(N)かかってしまうので、ハッシュマップと双方向連結リストを組み合わせる形の方が適していると判断した。

### 工夫した点
- キャッシュ内にすでに存在しているページにアクセスする際、もう一度同じページをputせず、ノードを付け替える形で再利用した。